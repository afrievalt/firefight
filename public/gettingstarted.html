<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Firefight js | Getting started</title>
    <link href="/favicon.png" rel="shortcut icon" sizes="32x32" type="image/png">
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <meta name="description" content="To get started with Firefight.js, we provided 4 easy samples to demonstrate the features, power and ease of use of Firefight js.">
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/override.css" />
    <script src="js/vendor/modernizr.js"></script>
    
</head>

<body ff-connect="gggggg-18107" atr-apiKey="AIzaSyAROOIphKjkh96rn7exluKHbLuFfD9A_lo">
    <header>
        <div class="row">
            <div class="large-12 columns">
                <img src="img/ff.png"/>
                <strong>Firefight js</strong>
                <span>Real-time, real easy</span>
            </div>
        </div>
    </header>
    <div class="contain-to-grid sticky">
        <nav class="top-bar" data-topbar role="navigation">
            <ul class="title-area">
                <li class="name"></li>
                <li class="toggle-topbar menu-icon">
                    <a href="#"><span>MENU</span></a>
                </li>
            </ul>
            <section class="top-bar-section">
                <!-- Left Nav Section -->
                <ul class="left">
                    <li></li>
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li class="divider"></li>
                    <li class="has-dropdown active">
                        <a href="#">Learn</a>
                        <ul class="menu vertical dropdown">
                            <li><a href="gettingstarted.html">Getting Started</a></li>
                            <li><a href="docs.html">Documentation</a></li>
                            <li><a href="samples.html">Samples</a></li>
                        </ul>
                    </li>
                    <li class="divider"></li>
                    <li><a href="docs.html">Documentation</a></li>
                    <li class="divider"></li>
                </ul>
                
                <!-- Right Nav Section -->
                <ul class="right">
                    <li class="divider"></li>
                    <li><a href="download.html">Download</a></li>
                    <li class="divider"></li>
                    <li><a href="https://github.com/afrievalt/firefight" target="_blank">Source</a></li>
                </ul>
            </section>
        </nav>
    </div>
    <!-- end of Navigation -->
    <div class="row">
        <div class="large-12 columns">
            <h1>Learn - Getting started</h1>
        </div>
    </div>
    <div class="row">
        <div class="large-12 columns">
            <h3>Inject real-time data into your HTML in minutes.</h3>
            <div class="callout large">
                <ol id="instructions">
                    <li >
                        Go to <a href="https://firebase.google.com" target="window">https://ffirebase.google.com</a> 
                    <br>Click <span>Get stared, its free.</span></li>
                    <li>Click <span>Sign in with you're google account</span>.
                    <br>Sign in</li>
                    <li>Click <span>Create New Project</span><br>
                    Enter a project name<br>
                    Click <span>Create Project</span>
                    </li>
                    <li>Click <span>Add Firebase to your web app</span><br>
                    Click <span>copy</span>.<br>
                    Close the dialog.<br>
                    Past content in here:<textarea id="snipit"></textarea></li>
                    <li>From the left hand menu, click <span>Auth</span><br>
                        Click <span>SET UP SIGN-IN METHOD</span> in the center of the screen<br>
                        Click <span>Anonymous</span> from the providers list.<br>
                        Click / Toggle the <span>Enable</span> toggle.<br>
                        Click <span>Save</span><br>
                        <div id="error"></div>
                        <button id="next">Next ></button>
                     </li>
                    <!--<li>
                        Create a firefight account:
                        <label>e-mail address:<input id="email" placehoder="ex: yourname@gmail.com"></label>
                        <label>password:<input id="password" placehoder="ex: keepmesecret"></label>
                        <button id="enter" ff-create>Create Account</button>
                    </li>-->
                    
                </ol>
            </div>
        </div>
    </div>
    <script>
        var $next =  document.getElementById('next');
        var $error = document.getElementById('error');
        var $snipit = document.getElementById('snipit');
        $next.onclick = handleClick;
        
        function handleClick() {
            var apiKey = parse(/apiKey:\s\"(.+?)\",/);             
            var database = parse(/databaseURL:\s\"https:\/\/(.+?)\.firebaseio\.com\",/);
            var error = "";
            errorOnEmpty(apiKey, "Unable to parse apiKey.  ");
            errorOnEmpty(database, "Unable to parse databaseURL.  ");
            
            if(!$error.innerHTML){                
                console.log(apiKey, database)
                window.document.location = "./gettingstarted3.html?apiKey=" +
                    apiKey + "&database=" + database;
            }
            
            function errorOnEmpty(value, message){
                if(value === ""){
                    $error.innerHTML = $error.innerHTML + message;
                }
            }
            
            function parse(regEx) {
                var matches = $snipit.value.match(regEx);
                return matches && matches.length === 2? matches[1] : ""; 
            }
        }
    </script>

</body>

</html>