<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Firefight js | Getting started</title>
    <link href="/favicon.png" rel="shortcut icon" sizes="32x32" type="image/png">
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <meta name="description" content="To get started with Firefight.js, we provided 4 easy samples to demonstrate the features, power and ease of use of Firefight js.">
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/override.css" />
    <script src="js/vendor/modernizr.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-84811786-1', 'auto');
  ga('send', 'pageview');

</script> 
</head>

<body>
    <header>
        <div class="row">
            <div class="large-12 columns">
                <img src="img/ff.png"/>
                <strong>Firefight js</strong>
                <span>Real-time, real easy</span>
            </div>
        </div>
    </header>
    <div class="contain-to-grid sticky">
        <nav class="top-bar" data-topbar role="navigation">
            <ul class="title-area">
                <li class="name"></li>
                <li class="toggle-topbar menu-icon">
                    <a href="#"><span>MENU</span></a>
                </li>
            </ul>
            <section class="top-bar-section">
                <!-- Left Nav Section -->
                <ul class="left">
                    <li></li>
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li class="divider"></li>
                    <li class="has-dropdown active">
                        <a href="#">Learn</a>
                        <ul class="menu vertical dropdown">
                            <li><a href="gettingstarted.html">Getting Started</a></li>
                            <li><a href="docs.html">Documentation</a></li>
                            <li><a href="samples.html">Samples</a></li>
                        </ul>
                    </li>
                    <li class="divider"></li>
                    <li><a href="docs.html">Documentation</a></li>
                    <li class="divider"></li>
                </ul>
                
                <!-- Right Nav Section -->
                <ul class="right">
                    <li class="divider"></li>
                    <li><a href="download.html">Download</a></li>
                    <li class="divider"></li>
                    <li><a href="https://github.com/afrievalt/firefight" target="_blank">Source</a></li>
                </ul>
            </section>
        </nav>
    </div>
    <!-- end of Navigation -->
    <div id="error"></div>
    <div id="samples">
    <div class="row">
        <div class="large-12 columns">
            <h1>Learn - Getting started</h1>
        </div>
    </div>
    <div class="row">
        <div class="large-12 columns">
            <h3>Inject real-time data into your HTML in minutes.</h3>
        </div>
    </div>
    <div>
        <div class="row ">
            <div class="large-7 columns">
                <h5>Getting started samples:</h5>
                <hr/>
            </div>
        </div>
        <div id="hello_world" class="row">
            <div class="large-2 medium-4 small-9 columns">
                <div class="sample-name">Hello world</div>
            </div>
            <div class="large-3 medium-4 small-9 columns pen-cell">                
                <form action="https://codepen.io/pen/define" method="POST" target="_blank">
                    <input type="hidden" name="data" class='data'>                    
                    <button class="code-pen">Codepen <img src="img/cp-arrow-right.svg"></button>
                </form>
            </div>
            <div class="large-2 medium-4 small-9 columns download-cell"><a id="download">download <img src="img/icon-download35.png"/></a></div>
            <div class="large-5 medium-0 small-0 columns"></div>
            <div class="hide code"><!-- ff-connect creates a connection to your database-->
{{greeting}} <!-- {{greeting}} reads the value of greeting from your database -->
<!-- I've added the key value pair Greeting = 'Welcome To Firefight' for you.  Now change the value in Firebase and see what happens. -->
<!-- In a HTML file, the script tag needs to go here.  See download for example. -->
</div>
        </div>
        <div class="row hr-row">
            <div class="large-7 columns">
                <hr/>
            </div>
        </div>
        <div id="add_data" class="row ">
            <div class="large-2 medium-4 small-9 columns">
                <div class="sample-name">Add Data</div>
            </div>
            <div class="large-3 medium-4 small-9 columns pen-cell">                
                <form action="https://codepen.io/pen/define" method="POST" target="_blank">
                    <input type="hidden" name="data" class='data'>                    
                    <button class="code-pen">Codepen <img src="img/cp-arrow-right.svg"></button>
                </form>
            </div>
            <div class="large-2 medium-4 small-9 columns download-cell"><a id="A1">download <img src="img/icon-download35.png"/></a></div>
            <div class="large-5 medium-0 small-0 columns"></div>
            <div class="hide code">
<input id="question" placeholder="enter question" /> <!-- this line will add a new key of 'question' (from id)  -->
<!-- Enter a value in the textbox.  After leaving textbox, the entered value will become the value of 'quesiton' in firebase --></div>
</div>
        <div class="row hr-row">
            <div class="large-7 columns">
                <hr/>
            </div>
        </div>
        <div id="submit_form" class="row ">
            <div class="large-2 medium-4 small-9 columns">
                <div class="sample-name">Submit Form</div>
            </div>
            <div class="large-3 medium-4 small-9 columns pen-cell">                
                <form action="https://codepen.io/pen/define" method="POST" target="_blank">
                    <input type="hidden" name="data" class='data'>                    
                    <button class="code-pen">Codepen <img src="img/cp-arrow-right.svg"></button>
                </form>
            </div>
            <div class="large-2 medium-4 small-9 columns download-cell"><a id="A2">download <img src="img/icon-download35.png"/></a></div>
            <div class="large-5 medium-0 small-0 columns"></div>
            <div class="hide css">label {display: block;}</div>
            <div class="hide code">
<ul ff-foreach="people"> <!-- Display inner html of this ul once for each item in the 'people' list  -->  
            <li>{{firstName}} {{lastName}} - {{city}}</li>
        </ul>
  
Submitting this form will add an object the people list.
<form ff-submit="people"> <!-- Submitting this form will add an object the people list. -->  
    <label>First Name: <input id="firstName"></label>
    <label>Last Name: <input id="lastName"></label><!-- Each textbox will be a key value pair in the submitted object.  -->
    <label>City: <input id="city"></label> 
    <button type="submit">Add Person</button>
</form>
            </div></div>
        <div class="row hr-row">
            <div class="large-7 columns">
                <hr/>
            </div>
        </div>        
        <div id="sort_filter" class="row ">
            <div class="large-2 medium-4 small-9 columns">
                <div class="sample-name">Sort Filter</div>                
            </div>
            <div class="large-3 medium-4 small-9 columns pen-cell">                
                <form action="https://codepen.io/pen/define" method="POST" target="_blank">
                    <input type="hidden" name="data" class='data'>                    
                    <button class="code-pen">Codepen <img src="img/cp-arrow-right.svg"></button>
                </form>
            </div>
            <div class="large-2 medium-4 small-9 columns download-cell"><a id="A3">download <img src="img/icon-download35.png"/></a></div>
            <div class="large-5 medium-0 small-0 columns"></div>
            <div class="hide css">a {
  color: red;
  cursor: pointer;
}

thead td {
  font-weight: bold;
  cursor: pointer;
}</div>
            <div class="hide code">Department Filer: 
<select ff-filter="tbodyNames:department" >
    <option value="*">Any</option>
    <option value="Human Resources">Human Resources</option>
    <option value="Engineering">Engineering</option>
    <option value="Sales">Sales</option>
    <option value="Information Technology">Information Technology</option> 
    <option value="Accounting">Accounting</option>
    <option value="Financial Services">Financial Services</option>            
</select>

<div>Click headers to sort.</div>                
<table>
    <thead>
        <tr>
            <td ff-sort="tbodyNames:first">First Name</td>
            <td ff-sort="tbodyNames:middle">Middle Initial</td>
            <td ff-sort="tbodyNames:last">Last Name</td>
            <td ff-sort="tbodyNames:department">Department</td>
            <td ></td>
        </tr>
    </thead>
    <tbody id="tbodyNames" ff-foreach="employees">
        <tr>
            <td>{{first}}</td>
            <td>{{middle}}</td>
            <td>{{last}}</td>
            <td>{{department}}</td>
            <td><a ff-delete>x</a></td>
        </tr>
    </tbody>
</table>
</div></div>
    <div class="row hr-row">
        <div class="large-7 columns">
            <hr/>
        </div>
    </div>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/3.0.4/firebase.js"></script>
    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
    <script>
        $(document).foundation();
        if (/*@cc_on!@*/false || !!document.documentMode) {
            $("#error").text("Firefight js does work with IE, but unfortunately this tutorial doesn't.  Please try another browser like chrome.").show();
        }
        
        function addData(rootRef) {
            function getRandom(array) {
                var max = array.length;
                var i = Math.floor(Math.random() * (max));
                return array[i];
            }
            var url = $("#url").val(); //https://somename.fbapp.com            
            var employees = rootRef.child("employees");
            var employee;
            var data = {
                first: ["Sam", "Mark", 'Allison', 'Arthur', 'Arlene', 'Barry', 'Bertha', 'Bill', 'Bonnie', 'Bret', 'Beryl', 'Chantal', 'Cristobal', 'Claudette', 'Charley', 'Cindy', 'Chris', 'Dean', 'Dolly', 'Danny', 'Danielle', 'Dennis', 'Debby', 'Erin', 'Edouard', 'Erika', 'Earl', 'Emily', 'Ernesto', 'Felix', 'Fay', 'Fabian', 'Frances', 'Franklin', 'Florence', 'Gabielle', 'Gustav', 'Grace', 'Gaston', 'Gert', 'Gordon', 'Humberto', 'Hanna', 'Henri', 'Hermine', 'Harvey', 'Helene', 'Iris', 'Isidore', 'Isabel', 'Ivan', 'Irene', 'Isaac', 'Jerry', 'Josephine', 'Juan', 'Jeanne', 'Jose', 'Joyce', 'Karen', 'Kyle', 'Kate', 'Karl', 'Katrina', 'Kirk', 'Lorenzo', 'Lili', 'Larry', 'Lisa', 'Lee', 'Leslie', 'Michelle', 'Marco', 'Mindy', 'Maria', 'Michael', 'Noel', 'Nana', 'Nicholas'],
                last: ['Abbott', 'Acevedo', 'Acosta', 'Adams', 'Adkins', 'Aguilar', 'Aguirre', 'Albert', 'Alexander', 'Alford', 'Allen', 'Allison', 'Anderson', 'Atkinson', 'Austin', 'Ayers', 'Crockford', 'Berners-Lee', 'Brin', 'Page', 'Zuckerberg', 'Gates', 'Goodger', 'Musk', 'Gosling', 'Bailey', 'Baird', 'Baker', 'Baldwin', 'Ball', 'Barnes', 'Barnett', 'Smith', 'Smith', 'Jackson', 'Hopper'],
                middle: "AATTMKSNMAPMGMBCBCFAET TLJRJQFG   ",
                department: ["Human Resources", "Engineering", "Sales", "Engineering", "Sales", "Engineering", "Sales", "Information Technology", "Accounting", "Financial Services"]
            };
            var i = 0;
            var count = 50;
            for (; i < count; i += 1) {
                employee = employees.push();
                employee.set({
                    first: getRandom(data.first),
                    middle: getRandom(data.middle),
                    last: getRandom(data.last),
                    department: getRandom(data.department)
                });
            }

        }
        (function () {
            buildSamples();
            function getParameterByName(name, url) {
                if (!url) url = window.location.href;
                name = name.replace(/[\[\]]/g, "\\$&");
                var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                    results = regex.exec(url);
                if (!results) return null;
                if (!results[2]) return '';
                return decodeURIComponent(results[2].replace(/\+/g, " "));
            }

            function buildSamples() {                
                var database = getParameterByName("database"),
                config = {
                   apiKey: getParameterByName("apiKey"),
                   databaseURL: "https://"+ database  +".firebaseio.com",
                   database: database
                };
                var orgWarn = console.warn;

                console.warn = function (message) {
                    if (-1 !== message.indexOf("FIREBASE WARNING: Firebase error. Please ensure that you spelled")) {
                        console.warn = orgWarn;
                        error(message);
                    }
                    return orgWarn.apply(console, arguments);
                };
                try {
                    firebase.initializeApp(config);

                    var rootRef = firebase.database().ref();
                    firebase.auth().signInAnonymously().catch(function(error) {
                        console.warn(error.message, error);
                    });
                    
                    rootRef.once("value", enterUrl, failOnce);

                    function enterUrl(snap) {
                        rootRef.update({ "greeting": "Welcome to Firefight js" });
                        setUpButtons(config);
                        
                        addData(rootRef);
                        //add more data
                    };

                    function failOnce(e){
                        error("Unable to connect to your database.  Be sure you set up Anonymous Auth from step 5.  Likely your database is still getting set up, please wait 30 seconds and hit refresh.   " + e)
                        console.log(e)
                    }
                
                    
                }
                catch (e) {
                    error(e.message);
                }
            }

            function error(msg) {
                $("#error").text(msg).show();
            }
            function setUpButtons(config) {
                $("#hello_world, #add_data, #submit_form, #sort_filter").each(setupRow);
                function setupRow() {
                    
                    var $this = $(this);
                    var fileName = $this.find(".sample-name").html().replace(' ', '-') + ".html";
                    var body = config.database + "' atr-apiKey='"+ config.apiKey  +"'>" + $this.find(".code").html();
                    var $data = $this.find(".data");
                    var css = $this.find(".css").html();
                    var data = {
                        "title": "New Pen!",
                        "html": "<div ff-connect='" + body + "</div>",
                        "editors": "1000",
                        "js_external": "https://firefight.firebaseapp.com/js/firefight-bundle.js"
                    };
                    if (css) {
                        data.css = css;
                    }
                    // Quotes will screw up the JSON // careful copy and pasting, I had to use a zero-width space here to get markdown to post this.
                    var JSONstring = JSON.stringify(data).replace(/"/g, "&​quot;").replace(/'/g, "&apos;");

                    var start = "<!doctype html><html class='no-js' lang='en'><head>";
                    if (css) {
                        start += "<style>" + css + "</style>";

                    }
                    start += "</head>\n<body ff-connect='";

                    var end = '<script src="https://firefight.firebaseapp.com/js/firefight-bundle.js"><' + '/script></body></html>';

                    var bb = new Blob([start + body + end], { type: 'text/html' });
                    
                    var a = $this.find("a")[0];
                    a.download = fileName;
                    window.URL = window.URL || window.webkitURL;
                    a.href = window.URL.createObjectURL(bb);
                    a.dataset.downloadurl = ['text/plain', a.download, a.href].join(':');
                    a.draggable = true; // Don't really need, but good practice.
                    $data.attr("value", JSONstring);
                    $this.show();
                    $("#samples").show();
                }
            }
        })();
    </script>

</body>

</html>